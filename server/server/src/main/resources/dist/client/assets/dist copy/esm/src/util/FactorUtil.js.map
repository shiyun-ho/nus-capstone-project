{"version":3,"file":"FactorUtil.js","sources":["../../../../src/util/FactorUtil.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint complexity: [2, 38], max-statements: [2, 38] */\nimport { _, loc } from '@okta/courage';\nimport TimeUtil from 'util/TimeUtil';\nconst fn = {};\nconst factorData = {\n  OKTA_VERIFY: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpSoft.oktaVerify',\n    description: 'factor.totpSoft.description',\n    iconClassName: 'mfa-okta-verify',\n    sortOrder: 1,\n  },\n  OKTA_VERIFY_PUSH: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.oktaVerifyPush',\n    description: 'factor.push.description',\n    iconClassName: 'mfa-okta-verify',\n    sortOrder: 1,\n  },\n  U2F: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.u2f',\n    description: brandName => {\n      return brandName ? 'factor.u2f.description.specific' : 'factor.u2f.description.generic';\n    },\n    iconClassName: 'mfa-u2f',\n    sortOrder: 2,\n  },\n  WEBAUTHN: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.webauthn.biometric',\n    description: 'factor.webauthn.biometric.description',\n    iconClassName: 'mfa-webauthn',\n    sortOrder: 2,\n  },\n  WINDOWS_HELLO: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.windowsHello',\n    description: brandName => {\n      return brandName\n        ? 'factor.windowsHello.signin.description.specific'\n        : 'factor.windowsHello.signin.description.generic';\n    },\n    iconClassName: 'mfa-windows-hello',\n    sortOrder: 3,\n  },\n  YUBIKEY: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpHard.yubikey',\n    description: 'factor.totpHard.yubikey.description',\n    iconClassName: 'mfa-yubikey',\n    sortOrder: 4,\n  },\n  GOOGLE_AUTH: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpSoft.googleAuthenticator',\n    description: 'factor.totpSoft.description',\n    iconClassName: 'mfa-google-auth',\n    sortOrder: 5,\n  },\n  CUSTOM_HOTP: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: 'factor.hotp.description',\n    iconClassName: 'mfa-hotp',\n    sortOrder: 6,\n  },\n  SMS: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.sms',\n    description: 'factor.sms.description',\n    iconClassName: 'mfa-okta-sms',\n    sortOrder: 7,\n  },\n  CALL: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.call',\n    description: 'factor.call.description',\n    iconClassName: 'mfa-okta-call',\n    sortOrder: 8,\n  },\n  EMAIL: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.email',\n    description: 'factor.email.description',\n    iconClassName: 'mfa-okta-email',\n    sortOrder: 9,\n  },\n  QUESTION: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.securityQuestion',\n    description: 'factor.securityQuestion.description',\n    iconClassName: 'mfa-okta-security-question',\n    sortOrder: 10,\n  },\n  DUO: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.duo',\n    description: 'factor.duo.description',\n    iconClassName: 'mfa-duo',\n    sortOrder: 11,\n  },\n  SYMANTEC_VIP: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpHard.symantecVip',\n    description: 'factor.totpHard.description',\n    iconClassName: 'mfa-symantec',\n    sortOrder: 12,\n  },\n  RSA_SECURID: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpHard.rsaSecurId',\n    description: 'factor.totpHard.description',\n    iconClassName: 'mfa-rsa',\n    sortOrder: 13,\n  },\n  ON_PREM: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: 'factor.totpHard.description',\n    iconClassName: 'mfa-onprem',\n    sortOrder: 14,\n  },\n  PASSWORD: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.password',\n    description: '',\n    iconClassName: 'mfa-okta-password',\n    sortOrder: 15,\n  },\n  CUSTOM_CLAIMS: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: 'factor.customFactor.description',\n    iconClassName: 'mfa-custom-factor',\n    sortOrder: 16,\n  },\n  GENERIC_SAML: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: brandName => {\n      return brandName ? 'factor.customFactor.description.specific' : 'factor.customFactor.description.generic';\n    },\n    iconClassName: 'mfa-custom-factor',\n    sortOrder: 17,\n  },\n  GENERIC_OIDC: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: brandName => {\n      return brandName ? 'factor.customFactor.description.specific' : 'factor.customFactor.description.generic';\n    },\n    iconClassName: 'mfa-custom-factor',\n    sortOrder: 18,\n  },\n};\n\nconst getPasswordComplexityRequirementsAsArray = function(policy, i18nKeys) {\n  const setExcludeAttributes = function(policyComplexity) {\n    const excludeAttributes = policyComplexity.excludeAttributes;\n\n    policyComplexity.excludeFirstName = _.contains(excludeAttributes, 'firstName');\n    policyComplexity.excludeLastName = _.contains(excludeAttributes, 'lastName');\n    return _.omit(policyComplexity, 'excludeAttributes');\n  };\n\n  if (policy.complexity) {\n    const complexityFields = i18nKeys.complexity;\n    const policyComplexity = setExcludeAttributes(policy.complexity);\n\n    const requirements = _.map(policyComplexity, function(complexityValue, complexityType) {\n      if (complexityValue <= 0) {\n        // to skip 0 and -1\n        return;\n      }\n\n      const params = complexityFields[complexityType];\n\n      return params.args ? loc(params.i18n, 'login', [complexityValue]) : loc(params.i18n, 'login');\n    });\n\n    return _.compact(requirements);\n  }\n  return [];\n};\n\nconst getPasswordHistoryRequirementDescription = function(policy, i18nKeys) {\n  if (policy.age && policy.age.historyCount > 0) {\n    return loc(i18nKeys.history.i18n, 'login', [policy.age.historyCount]);\n  }\n  return null;\n};\n\nconst getPasswordAgeRequirementDescription = function(policy, i18nKeys) {\n  const getPasswordAgeRequirement = function(displayableTime) {\n    let propertiesString;\n\n    switch (displayableTime.unit) {\n    case 'DAY':\n      propertiesString = i18nKeys.age.days.i18n;\n      break;\n    case 'HOUR':\n      propertiesString = i18nKeys.age.hours.i18n;\n      break;\n    case 'MINUTE':\n      propertiesString = i18nKeys.age.minutes.i18n;\n    }\n    return loc(propertiesString, 'login', [displayableTime.time]);\n  };\n\n  if (policy.age && policy.age.minAgeMinutes > 0) {\n    const displayableTime = TimeUtil.getTimeInHighestRelevantUnit(policy.age.minAgeMinutes, 'MINUTE');\n\n    return getPasswordAgeRequirement(displayableTime);\n  }\n  return null;\n};\n\nconst getPasswordRequirements = function(policy, i18nKeys) {\n  const passwordRequirements = {\n    complexity: [],\n    history: [],\n    age: [],\n  };\n\n  passwordRequirements.complexity = getPasswordComplexityRequirementsAsArray(policy, i18nKeys);\n\n  const historyRequirement = getPasswordHistoryRequirementDescription(policy, i18nKeys);\n\n  if (historyRequirement) {\n    passwordRequirements.history.push(historyRequirement);\n  }\n\n  const ageRequirement = getPasswordAgeRequirementDescription(policy, i18nKeys);\n\n  if (ageRequirement) {\n    passwordRequirements.age.push(ageRequirement);\n  }\n\n  return passwordRequirements;\n};\n\nfn.getFactorName = function(provider, factorType) {\n  if (provider === 'OKTA' && factorType === 'token:software:totp') {\n    return 'OKTA_VERIFY';\n  }\n  if (provider === 'OKTA' && factorType === 'push') {\n    return 'OKTA_VERIFY_PUSH';\n  }\n  if (provider === 'GOOGLE') {\n    return 'GOOGLE_AUTH';\n  }\n  if (provider === 'SYMANTEC' && factorType === 'token') {\n    return 'SYMANTEC_VIP';\n  }\n  if (provider === 'RSA' && factorType === 'token') {\n    return 'RSA_SECURID';\n  }\n  if (provider === 'DEL_OATH' && factorType === 'token') {\n    return 'ON_PREM';\n  }\n  if (provider === 'DUO' && factorType === 'web') {\n    return 'DUO';\n  }\n  if (provider === 'YUBICO' && factorType === 'token:hardware') {\n    return 'YUBIKEY';\n  }\n  if (provider === 'OKTA' && factorType === 'sms') {\n    return 'SMS';\n  }\n  if (provider === 'OKTA' && factorType === 'call') {\n    return 'CALL';\n  }\n  if (provider === 'OKTA' && factorType === 'question') {\n    return 'QUESTION';\n  }\n  if (provider === 'OKTA' && factorType === 'email') {\n    return 'EMAIL';\n  }\n  if (provider === 'OKTA' && factorType === 'password') {\n    return 'PASSWORD';\n  }\n  if (provider === 'GENERIC_SAML' && factorType === 'assertion:saml2') {\n    return 'GENERIC_SAML';\n  }\n  if (provider === 'GENERIC_OIDC' && factorType === 'assertion:oidc') {\n    return 'GENERIC_OIDC';\n  }\n  return fn.getFactorNameForFactorType.call(this, factorType);\n};\n\nfn.getFactorNameForFactorType = function(factorType) {\n  if (factorType === 'u2f') {\n    return 'U2F';\n  }\n  if (factorType === 'token:software:totp') {\n    return 'OKTA_VERIFY';\n  }\n  if (factorType === 'webauthn') {\n    if (this.settings.get('features.webauthn')) {\n      return 'WEBAUTHN';\n    } else {\n      return 'WINDOWS_HELLO';\n    }\n  }\n  if (factorType === 'token:hotp') {\n    return 'CUSTOM_HOTP';\n  }\n  if (factorType === 'claims_provider') {\n    return 'CUSTOM_CLAIMS';\n  }\n};\n\nfn.isOktaVerify = function(provider, factorType) {\n  return provider === 'OKTA' && (factorType === 'token:software:totp' || factorType === 'push');\n};\n\nfn.getFactorLabel = function(provider, factorType) {\n  const key = factorData[fn.getFactorName.apply(this, [provider, factorType])].label;\n\n  return loc(key, 'login');\n};\n\nfn.getFactorDescription = function(provider, factorType) {\n  const descriptionKey = factorData[fn.getFactorName.apply(this, [provider, factorType])].description;\n\n  if (_.isFunction(descriptionKey)) {\n    const brandName = this.settings.get('brandName');\n    const key = descriptionKey(brandName);\n\n    return brandName ? loc(key, 'login', [brandName]) : loc(key, 'login');\n  } else {\n    return loc(descriptionKey, 'login');\n  }\n};\n\nfn.getFactorIconClassName = function(provider, factorType) {\n  return factorData[fn.getFactorName.apply(this, [provider, factorType])].iconClassName;\n};\n\nfn.getFactorSortOrder = function(provider, factorType) {\n  return factorData[fn.getFactorName.apply(this, [provider, factorType])].sortOrder;\n};\n\nfn.getRememberDeviceValue = function(appState) {\n  return appState && appState.get('rememberDeviceByDefault');\n};\n\nfn.getSecurityQuestionLabel = function(questionObj) {\n  const localizedQuestion = loc('security.' + questionObj.question);\n\n  return localizedQuestion.indexOf('L10N_ERROR') < 0 ? localizedQuestion : questionObj.questionText;\n};\n\nfn.removeRequirementsFromError = function(responseJSON, policy) {\n  const passwordRequirementsAsString = this.getPasswordComplexityDescription(policy);\n\n  if (\n    responseJSON.errorCauses &&\n    responseJSON.errorCauses.length > 0 &&\n    _.isString(responseJSON.errorCauses[0].errorSummary)\n  ) {\n    responseJSON.errorCauses[0].errorSummary = responseJSON.errorCauses[0].errorSummary\n      .replace(passwordRequirementsAsString, '')\n      .trim();\n  }\n  return responseJSON;\n};\n\nfn.getPasswordComplexityDescriptionForHtmlList = function(policy) {\n  const passwordRequirementHtmlI18nKeys = {\n    complexity: {\n      minLength: { i18n: 'password.complexity.length.description', args: true },\n      minLowerCase: { i18n: 'password.complexity.lowercase.description' },\n      minUpperCase: { i18n: 'password.complexity.uppercase.description' },\n      minNumber: { i18n: 'password.complexity.number.description' },\n      minSymbol: { i18n: 'password.complexity.symbol.description' },\n      excludeUsername: { i18n: 'password.complexity.no_username.description' },\n      excludeFirstName: { i18n: 'password.complexity.no_first_name.description' },\n      excludeLastName: { i18n: 'password.complexity.no_last_name.description' },\n    },\n    history: { i18n: 'password.complexity.history.description' },\n    age: {\n      minutes: { i18n: 'password.complexity.minAgeMinutes.description' },\n      hours: { i18n: 'password.complexity.minAgeHours.description' },\n      days: { i18n: 'password.complexity.minAgeDays.description' },\n    },\n  };\n  const passwordRequirements = getPasswordRequirements(policy, passwordRequirementHtmlI18nKeys);\n\n  return _.union(passwordRequirements.complexity, passwordRequirements.history, passwordRequirements.age);\n};\n\nfn.getPasswordComplexityDescription = function(policy) {\n  const passwordRequirementI18nKeys = {\n    complexity: {\n      minLength: { i18n: 'password.complexity.length', args: true },\n      minLowerCase: { i18n: 'password.complexity.lowercase' },\n      minUpperCase: { i18n: 'password.complexity.uppercase' },\n      minNumber: { i18n: 'password.complexity.number' },\n      minSymbol: { i18n: 'password.complexity.symbol' },\n      excludeUsername: { i18n: 'password.complexity.no_username' },\n      excludeFirstName: { i18n: 'password.complexity.no_first_name' },\n      excludeLastName: { i18n: 'password.complexity.no_last_name' },\n    },\n    history: { i18n: 'password.complexity.history' },\n    age: {\n      minutes: { i18n: 'password.complexity.minAgeMinutes' },\n      hours: { i18n: 'password.complexity.minAgeHours' },\n      days: { i18n: 'password.complexity.minAgeDays' },\n    },\n  };\n  const result = [];\n  const passwordRequirements = getPasswordRequirements(policy, passwordRequirementI18nKeys);\n  let requirements = passwordRequirements.complexity;\n\n  // Generate and add complexity string to result\n  if (requirements.length > 0) {\n    requirements = _.reduce(requirements, function(result, requirement) {\n      return result ? result + loc('password.complexity.list.element', 'login', [requirement]) : requirement;\n    });\n\n    result.push(loc('password.complexity.requirements', 'login', [requirements]));\n  }\n\n  // Only 1 value expected in history and age for now\n  result.push(passwordRequirements.history[0]);\n  result.push(passwordRequirements.age[0]);\n\n  return _.compact(result).join(' ');\n};\n\nfn.getCardinalityText = function(enrolled, required, cardinality) {\n  if (cardinality) {\n    if (enrolled) {\n      return cardinality.enrolled === 1 ? '' : loc('enroll.choices.cardinality.setup', 'login', [cardinality.enrolled]);\n    } else if (required && cardinality.maximum > 1) {\n      return loc('enroll.choices.cardinality.setup.remaining', 'login', [cardinality.enrolled, cardinality.minimum]);\n    }\n  }\n  return '';\n};\n\nfn.findFactorInFactorsArray = function(factors, provider, factorType) {\n  let factor = factors.findWhere({ provider: provider, factorType: factorType });\n\n  if (factor === undefined) {\n    //for factors that support cardinality and only have factorType\n    factor = factors.findWhere({ factorType: factorType });\n  }\n  return factor;\n};\n\nexport default fn;\n"],"names":["fn","factorData","OKTA_VERIFY","label","description","iconClassName","sortOrder","OKTA_VERIFY_PUSH","U2F","brandName","WEBAUTHN","WINDOWS_HELLO","YUBIKEY","GOOGLE_AUTH","CUSTOM_HOTP","SMS","CALL","EMAIL","QUESTION","DUO","SYMANTEC_VIP","RSA_SECURID","ON_PREM","PASSWORD","CUSTOM_CLAIMS","GENERIC_SAML","GENERIC_OIDC","getPasswordComplexityRequirementsAsArray","policy","i18nKeys","setExcludeAttributes","policyComplexity","excludeAttributes","excludeFirstName","_","contains","excludeLastName","omit","complexity","complexityFields","requirements","map","complexityValue","complexityType","params","args","loc","i18n","compact","getPasswordHistoryRequirementDescription","age","historyCount","history","getPasswordAgeRequirementDescription","getPasswordAgeRequirement","displayableTime","propertiesString","unit","days","hours","minutes","time","minAgeMinutes","TimeUtil","getTimeInHighestRelevantUnit","getPasswordRequirements","passwordRequirements","historyRequirement","push","ageRequirement","getFactorName","provider","factorType","getFactorNameForFactorType","call","settings","get","isOktaVerify","getFactorLabel","key","apply","getFactorDescription","descriptionKey","isFunction","getFactorIconClassName","getFactorSortOrder","getRememberDeviceValue","appState","getSecurityQuestionLabel","questionObj","localizedQuestion","question","indexOf","questionText","removeRequirementsFromError","responseJSON","passwordRequirementsAsString","getPasswordComplexityDescription","errorCauses","length","isString","errorSummary","replace","trim","getPasswordComplexityDescriptionForHtmlList","passwordRequirementHtmlI18nKeys","minLength","minLowerCase","minUpperCase","minNumber","minSymbol","excludeUsername","union","passwordRequirementI18nKeys","result","reduce","requirement","join","getCardinalityText","enrolled","required","cardinality","maximum","minimum","findFactorInFactorsArray","factors","factor","findWhere","undefined"],"mappings":"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"}